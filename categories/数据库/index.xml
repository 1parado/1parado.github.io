<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>æ•°æ®åº“ on Paradoxâ€™s Blog</title>
        <link>https://1parado.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/</link>
        <description>Recent content in æ•°æ®åº“ on Paradoxâ€™s Blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en</language>
        <copyright>Paradox29</copyright><atom:link href="https://1parado.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>æ‰‹å†™ä¸€ä¸ªRedis</title>
        <link>https://1parado.github.io/p/%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AAredis/</link>
        <pubDate>Fri, 24 Oct 2025 00:00:00 +0000</pubDate>
        
        <guid>https://1parado.github.io/p/%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AAredis/</guid>
        <description>&lt;style&gt;
  body {
    background: url(&#39;/img/background.jpg&#39;) no-repeat center top;
    background-size: cover;
    background-attachment: fixed;
  }
&lt;/style&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;a class=&#34;link&#34; href=&#34;https://github.com/houbb/cache?tab=readme-ov-file&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¦‚ä½•ä»é›¶å¼€å§‹æ‰‹å†™ä¸€ä¸ªRedis&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;20251024&#34;&gt;2025.10.24
&lt;/h2&gt;&lt;h3 id=&#34;å¦‚ä½•å®ç°å›ºå®šç¼“å­˜å¤§å°&#34;&gt;å¦‚ä½•å®ç°å›ºå®šç¼“å­˜å¤§å°
&lt;/h3&gt;&lt;p&gt;HashMapï¼ŒConcurrentHashMapå¯ä»¥ä½œä¸ºç¼“å­˜ä½¿ç”¨ ä½†HashMapæœ¬èº«ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ ä½†æ˜¯ä½œä¸ºåŸºç¡€çš„Javaé›†åˆ ä¸ç®¡æ˜¯HashMapè¿˜æ˜¯ConcurrentHashMapæœ¬èº«ä¸å…·å¤‡è‡ªåŠ¨çš„æ•°æ®æ·˜æ±°æœºåˆ¶ï¼Œè¿™æ ·å¯èƒ½ä¼šå¯¼è‡´OOMï¼ˆå†…å­˜æº¢å‡ºï¼‰&lt;/p&gt;
&lt;p&gt;æ·˜æ±°æœºåˆ¶ï¼šFIFOï¼ˆå…ˆè¿›ç¼“å­˜å…ˆè¢«æ·˜æ±°ï¼‰,LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰,LFUï¼ˆæœ€è¿‘æœ€å°‘é¢‘ç‡ä½¿ç”¨ï¼‰ï¼Œä»å·¦å¾€å³å‘½ä¸­ç‡è¶Šæ¥è¶Šé«˜ï¼Œæˆæœ¬ä¹Ÿè¶Šæ¥è¶Šé«˜&lt;/p&gt;
&lt;p&gt;å¯¹äºåŠ äº†æ·˜æ±°æœºåˆ¶çš„HashMapä»ç„¶å­˜åœ¨å‡ ä¸ªé—®é¢˜ï¼šé”ç«äº‰æ¿€çƒˆï¼Œä¸æ”¯æŒè¿‡æœŸæ—¶é—´ï¼Œä¸çŸ¥æ­¤è‡ªåŠ¨åˆ·æ–°ï¼Œäºæ˜¯å‡ºç°äº†Guava Caffeine&amp;hellip;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¼•å¯¼ç±»ï¼šæ˜¯æŒ‡åœ¨æ¡†æ¶æˆ–åº”ç”¨ç¨‹åºä¸­è´Ÿè´£å¯åŠ¨å’Œåˆå§‹åŒ–çš„æ ¸å¿ƒç±»ã€‚Springbootä¸­å¼•å¯¼ç±»å³Applicationä¸ºåç¼€çš„ç±» å¯¹äºè¯¥é¡¹ç›® é…ç½®äº†ä¸€ä¸ªç¼“å­˜å¼•å¯¼ç±»CacheBSæ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨&lt;/p&gt;&lt;/blockquote&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;helloTest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ICache&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CacheBs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;newInstance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// 1ä»ç¼“å­˜ä¸­å‡ºæ¥ 3è¿›å»&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;4&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;4&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// 2ä»ç¼“å­˜ä¸­å‡ºæ¥ 4è¿›å»&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Assert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;assertEquals&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;());&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// æµ‹è¯•cacheçš„å¤§å°æ˜¯å¦ä¸º2 ä¸ç›¸åŒåˆ™æµ‹è¯•ä¸é€šè¿‡&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;keySet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;());&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://1parado.github.io/img/%e5%85%88%e8%bf%9b%e5%85%88%e5%87%ba%e7%bc%93%e5%ad%98%e6%b5%8b%e8%af%95%e6%88%90%e5%8a%9f.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;å…ˆè¿›å…ˆå‡ºæµ‹è¯•&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;å®ç°è¿‡æœŸæ—¶é—´expire&#34;&gt;å®ç°è¿‡æœŸæ—¶é—´expire
&lt;/h3&gt;&lt;p&gt;Redisä¸­çš„expireå¯ä»¥ç”¨äºéªŒè¯ç å¤±æ•ˆï¼Œç™»å½•tokenå¤±æ•ˆç­‰ä¸šåŠ¡åœºæ™¯&amp;hellip; è®¾è®¡ä¸€ä¸ªcacheExpireæ¥å£ å¯ä»¥è®¡ç®—å¤šä¹…ä¹‹åè¿‡æœŸ&lt;/p&gt;
&lt;p&gt;è¿‡æœŸçš„å®ç°åŸç†ï¼šå¯ä»¥é€šè¿‡ä¸€ä¸ªå®šæ—¶ä»»åŠ¡æ¯”å¦‚ä¸€ç§’é’Ÿä¸€æ¬¡è½®è¯¢ï¼Œä¸€æ¬¡æ¸…ç†10ä¸ªæ•°æ®ï¼Œç›´åˆ°å°†è¿‡æœŸçš„ä¿¡æ¯æ¸…ç©ºã€‚å¯ä»¥å°†è¿‡æœŸæ•°æ®å­˜å…¥åˆ°mapä¸­ keyå¯¹åº”è¿‡æœŸçš„æ•°æ® valueå¯¹åº”è¿‡æœŸæ—¶é—´ã€‚åœ¨è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªå•çº¿ç¨‹ ç”¨æ¥æ‰§è¡Œæ¸…ç©ºä»»åŠ¡ï¼Œæ¸…ç©ºä»»åŠ¡æ‰§è¡Œçš„è¿‡ç¨‹å³éå†mapä¸­çš„key åˆ¤æ–­valueæ˜¯å¦è¿‡æœŸï¼Œä¸ºäº†é¿å…å•è¯æ‰§è¡Œæ—¶é—´å¤ªä¹… æ‰€ä»¥è®¾ç½®ä¸€ä¸ªå•æ¬¡æ¸…ç©ºæœ€å¤§æ•°é‡é™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;å®šæ—¶ä»»åŠ¡ä¼˜åŒ–ï¼šå¯ä»¥é€šè¿‡æ’åºMapå¿«é€Ÿåˆ¤æ–­å“ªäº›è¿‡æœŸæ•°æ®éœ€è¦æ¸…ç†ï¼Œå³è®©è¿‡æœŸæ—¶é—´ä½œä¸ºkeyï¼Œè®©ç›¸åŒè¿‡æœŸæ—¶é—´çš„æ•°æ®æ”¾å…¥åˆ—è¡¨ä¸­ä½œä¸ºvalueã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæˆ‘ä»¬é‡‡ç”¨äº†å®šæ—¶è½®è¯¢çš„æ–¹å¼ æ‰€ä»¥æœ‰æ—¶å€™æ•°æ®å¯èƒ½æ¸…ç†ä¸åŠæ—¶ å½“è®¿é—®æ•°æ®çš„æ—¶å€™å¯èƒ½è®¿é—®åˆ°è„æ•°æ®ã€‚å› æ­¤å¼•å…¥äº†æƒ°æ€§åˆ é™¤ï¼Œå½“ç”¨åˆ°æŸä¸ªæ•°æ®çš„æ—¶å€™ æ‰å¯¹æ•°æ®è¿›è¡Œåˆ é™¤åˆ¤æ–­æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;å…·ä½“å®ç°ï¼šåœ¨ç”¨åˆ°æŸäº›æ•°æ®ä¹‹å‰ å…ˆå¯¹æ•°æ®è¿›è¡Œåˆ·æ–°æ“ä½œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;expireTest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;InterruptedException&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ICache&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CacheBs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;newInstance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;now&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentTimeMillis&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;expireAt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;now&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;40&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Assert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;assertEquals&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;());&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// æ²‰ç¡ 50Sï¼Œè®©å…¶è¿‡æœŸ&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TimeUnit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;MILLISECONDS&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;50&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Assert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;assertEquals&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;());&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;keySet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;());&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://1parado.github.io/img/%e5%ae%9e%e7%8e%b0%e8%bf%87%e6%9c%9f%e6%97%b6%e9%97%b4.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;å®ç°è¿‡æœŸæ—¶é—´&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;å®ç°å†…å­˜æ•°æ®é‡å¯ä¸ä¸¢å¤±&#34;&gt;å®ç°å†…å­˜æ•°æ®é‡å¯ä¸ä¸¢å¤±
&lt;/h3&gt;&lt;p&gt;ç”±äºæˆ‘ä»¬çš„æ•°æ®æ˜¯æ”¾åœ¨å†…å­˜ä¸­çš„ å¦‚ä½•ä¿è¯é‡å¯ä¹‹åæ•°æ®è¿˜åœ¨ï¼Ÿï¼ˆRedisæŒä¹…åŒ–ï¼‰&lt;/p&gt;
&lt;p&gt;Redisçš„æŒä¹…åŒ–æœºåˆ¶åŒ…æ‹¬ä¸‰ç§ï¼šRDB(å¿«ç…§)ï¼ŒAOFï¼ˆåªè¿½åŠ æ–‡ä»¶ï¼‰ï¼Œæ··åˆç­–ç•¥.&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬å…ˆå®ç°&lt;strong&gt;RDBå¿«ç…§æ¨¡å¼&lt;/strong&gt;ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¼“å­˜å¯åŠ¨çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®šåˆå§‹åŒ–åŠ è½½çš„ä¿¡æ¯ï¼Œä»è€Œå®ç°æ•°æ®æŒä¹…åŒ–ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦çŸ¥é“å¦‚ä½•å°†ç¼“å­˜ä¸­çš„å†…å®¹æŒä¹…åŒ–åˆ°æ–‡ä»¶æˆ–æ•°æ®åº“ä¸­ï¼Ÿï¼ŒçŸ¥é“è¿™äº›ä¿¡æ¯ï¼Œå°±å¯ä»¥åœ¨é‡å¯ä¹‹ååŠ è½½è¿™äº›ä¿¡æ¯ï¼Œæ¥ä¿è¯æ•°æ®ä¸ä¸¢å¤±äº†ã€‚å¯¹äºå¯¼å‡ºçš„æ–‡ä»¶æ¥è¯´è¿˜æœ‰å¾ˆå¤šç»†èŠ‚ï¼Œæ¯”å¦‚æ–‡ä»¶çš„å‹ç¼©ï¼ŒCRCæ ¡éªŒ&amp;hellip;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://1parado.github.io/img/%e9%87%8d%e5%90%af%e6%95%b0%e6%8d%ae%e4%b8%8d%e4%b8%a2%e5%a4%b1.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;é‡å¯æ•°æ®ä¸ä¸¢å¤±&#34;
	
	
&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;persistRdbTest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;InterruptedException&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ICache&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CacheBs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;newInstance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;load&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MyCacheLoad&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// æŒ‡å®šæŒä¹…åŒ–ç­–ç•¥&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;persist&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CachePersists&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dbJson&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1.rdb&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// ä¼ å…¥æ–‡ä»¶&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Assert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;assertEquals&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;());&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TimeUnit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;SECONDS&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;AOFæ¨¡å¼&lt;/strong&gt;ï¼šRDBæ¨¡å¼å°†ç¼“å­˜å†…å®¹å…¨éƒ¨æŒä¹…åŒ–æ¯”è¾ƒè€—æ—¶ï¼Œ AOFæ¨¡å¼é’ˆå¯¹ä¿®æ”¹å†…å®¹çš„æŒ‡ä»¤ï¼Œå°†æŒ‡ä»¤&lt;strong&gt;é¡ºåºæ·»åŠ &lt;/strong&gt;åˆ°æ–‡ä»¶ä¸­ï¼Œå› æ­¤AOFçš„å®æ—¶æ€§æ›´å¥½ï¼Œé¡ºåºå†™é¿å…äº†IOçš„éšæœºå†™é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://1parado.github.io/img/AOF%e6%8c%81%e4%b9%85%e5%8c%96.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;AOFæŒä¹…åŒ–&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ·»åŠ ç›‘å¬å™¨&#34;&gt;æ·»åŠ ç›‘å¬å™¨
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åˆ é™¤ç›‘å¬å™¨ï¼šæˆ‘ä»¬ä¹‹å‰å·²ç»å®ç°expire æ˜¯å¯¹ç”¨æˆ·é€æ˜çš„ï¼ˆç”¨æˆ·æ„ŸçŸ¥ä¸åˆ°ï¼‰ï¼Œå¹¶ä¸”å½“å†…å­˜æ»¡äº†çš„æ—¶å€™ï¼ŒRedisä¼šè¿›è¡Œå†…å­˜æ·˜æ±°ï¼ˆevict æ·˜æ±°ï¼‰ï¼Œè¿™å¯¹ç”¨æˆ·æ¥è¯´ä¹Ÿæ˜¯é€æ˜çš„  å¦‚æœç”¨æˆ·æƒ³è·å–åˆ°è¿™äº›ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡æ·»åŠ ç›‘å¬å™¨å®ç°ã€‚å³åœ¨åˆ é™¤çš„ä½ç½®è°ƒç”¨ç›‘å¬å™¨å³å¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ…¢æ“ä½œç›‘å¬å™¨ï¼šredis ä¸­ä¼šå­˜å‚¨æ…¢æ“ä½œçš„ç›¸å…³æ—¥å¿—ä¿¡æ¯ï¼ˆå‚æ•°åŒ…æ‹¬ï¼šè€—æ—¶é˜ˆå€¼ï¼Œæœ€å¤šå­˜å‚¨å¤šå°‘æ¡æ…¢æ—¥å¿—è®°å½•ï¼‰ æ‰€æœ‰æˆ‘ä»¬å¯ä»¥å¯¹äºæ‰€æœ‰çš„æ“ä½œè®°å½•æ“ä½œè€—æ—¶ å¦‚æœè€—æ—¶è¶…è¿‡ç”¨æˆ·è®¾ç½®çš„é˜ˆå€¼ è°ƒç”¨æ…¢æ“ä½œç›‘å¬å™¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‡ªå®šä¹‰ç›‘å¬å™¨&amp;hellip;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://1parado.github.io/img/%e7%bc%93%e5%ad%98%e5%88%a0%e9%99%a4%e6%97%a5%e5%bf%97.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;ç¼“å­˜åˆ é™¤æ—¥å¿—&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;lru-ç¼“å­˜æ·˜æ±°&#34;&gt;LRU ç¼“å­˜æ·˜æ±°
&lt;/h3&gt;</description>
        </item>
        <item>
        <title>Redis å¸¸è§é¢è¯•é¢˜</title>
        <link>https://1parado.github.io/p/redis-%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/</link>
        <pubDate>Sun, 19 Oct 2025 00:00:00 +0000</pubDate>
        
        <guid>https://1parado.github.io/p/redis-%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/</guid>
        <description>&lt;style&gt;
  body {
    background: url(&#39;/img/background.jpg&#39;) no-repeat center top;
    background-size: cover;
    background-attachment: fixed;
  }
&lt;/style&gt;
&lt;h2 id=&#34;2025-10-19&#34;&gt;2025-10-19
&lt;/h2&gt;&lt;p&gt;å‚è€ƒé“¾æ¥ï¼š
&lt;a class=&#34;link&#34; href=&#34;https://javaguide.cn/database/redis/redis-questions-01.html#%E4%BB%80%E4%B9%88%E6%98%AF-redis&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://javaguide.cn/database/redis/redis-questions-01.html#%E4%BB%80%E4%B9%88%E6%98%AF-redis&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Redisæ˜¯NoSQLæ•°æ®åº“ï¼Œæ˜¯ä¸€ç§å†…å­˜æ•°æ®åº“ã€‚è¯»å†™é€Ÿåº¦å¾ˆå¿«ï¼Œç»å¸¸ç”¨äºåˆ†å¸ƒå¼ç¼“å­˜æ–¹å‘ï¼Œå­˜å‚¨çš„æ˜¯key-valueå¯¹æ•°æ®ã€‚Redisæ”¯æŒäº‹åŠ¡ï¼ŒæŒä¹…åŒ–ï¼Œluaè„šæœ¬&amp;hellip;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯ä»¥è¯•ä¸€ä¸‹&lt;a class=&#34;link&#34; href=&#34;https://onecompiler.com/redis&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;åœ¨çº¿ç¼–è¯‘å™¨&lt;/a&gt;å†™ä¸€ä¸‹rediså‘½ä»¤ ç®€å•æ˜“ä¸Šæ‰‹ easy~&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Redisä¸ºä»€ä¹ˆé€Ÿåº¦å¿«ï¼š1.çº¯å†…å­˜æ“ä½œï¼ˆçº³ç§’çº§ï¼‰ï¼Œä¼ ç»Ÿçš„æ•°æ®åº“éœ€è¦è¯»å†™ç£ç›˜ï¼ˆæ¯«ç§’çº§ï¼‰ 2.é«˜æ•ˆçš„I/Oæ¨¡å‹ã€‚3.ä¼˜åŒ–çš„å†…éƒ¨æ•°æ®ç»“æ„4.ç®€æ´é«˜æ•ˆçš„é€šä¿¡åè®®ï¼ˆRESPï¼‰. redisé€‚åˆåšç¼“å­˜ä¸é€‚åˆåšä¸»æ•°æ®åº“ï¼Œå› ä¸ºå†…å­˜æˆæœ¬é«˜ï¼Œä¸”redisè™½ç„¶æ”¯æŒæ•°æ®æŒä¹…åŒ–ä½†æ˜¯æœ‰æ•°æ®ä¸¢å¤±é£é™©ã€‚
å…¶ä»–çš„åˆ†å¸ƒå¼ç¼“å­˜ï¼šTendis,KeyDB&amp;hellip;&lt;/p&gt;
&lt;p&gt;é€‰æ‹©Redisçš„åŸå› ï¼š1.è®¿é—®é€Ÿåº¦å¿«ï¼ˆåŸºäºå†…å­˜ï¼‰ 2.é«˜å¹¶å‘ 3. åŠŸèƒ½å…¨é¢ï¼ˆå¯ä»¥ä½œç¼“å­˜ï¼Œå¯ä»¥ç”¨äºåˆ†å¸ƒå¼é”ï¼Œé™æµï¼Œæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå»¶æ—¶é˜Ÿåˆ—&amp;hellip;ï¼‰&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„ç¼“å­˜è¯»å†™ç­–ç•¥ï¼šhttps://javaguide.cn/database/redis/3-commonly-used-cache-read-and-write-strategies.html&lt;/p&gt;
&lt;h2 id=&#34;2025-10-20&#34;&gt;2025-10-20
&lt;/h2&gt;&lt;p&gt;Redis åº”ç”¨&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¼“å­˜&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼é” Redission&lt;/li&gt;
&lt;li&gt;åšé™æµå·¥å…· Redis+LUAè„šæœ¬ RRateLimiterå®ç°åˆ†å¸ƒå¼é™æµå³åŸºäºLuaè„šæœ¬+ä»¤ç‰Œæ¡¶ç®—æ³•&lt;/li&gt;
&lt;li&gt;åšæ¶ˆæ¯é˜Ÿåˆ— Redisçš„Streamç±»å‹çš„æ•°æ®ç»“æ„æ›´é€‚åˆåšæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆä½†ä¸€èˆ¬ç”¨ä¸­é—´ä»¶ï¼‰&lt;/li&gt;
&lt;li&gt;åšå»¶æ—¶é˜Ÿåˆ— å†…ç½®äº†å»¶æ—¶é˜Ÿåˆ— åŸºäºSorted Setå®ç°&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼session åˆ©ç”¨Stringæˆ–Hashæ•°æ®ç»“æ„å­˜å‚¨sessionæ•°æ®&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Rediså¯ä»¥å®ç°å…¨æ–‡æœç´¢å¼•æ“åŠŸèƒ½ éœ€è¦å€ŸåŠ©RedisSearchï¼ˆä¸€ä¸ªåŸºäºRedisçš„æœç´¢å¼•æ“æ¨¡å—ï¼‰ï¼šæ€§èƒ½æ›´ä¼˜ç§€ è¾ƒä½å†…å­˜å ç”¨å®ç°å¿«é€Ÿç´¢å¼•ã€‚&lt;/p&gt;
&lt;p&gt;å»¶æ—¶ä»»åŠ¡ï¼ˆçº¢åŒ…è¿‡æœŸè‡ªåŠ¨é€€è¿˜ï¼‰:å®ç°æ–¹å¼ï¼š1. redisè¿‡æœŸäº‹ä»¶ç›‘å¬ï¼ˆä¸æ¨èï¼‰ 2. redissionå†…ç½®çš„å»¶æ—¶é˜Ÿåˆ— å‡å°‘äº†ä¸¢æ¶ˆæ¯çš„å¯èƒ½ï¼Œæ¶ˆæ¯ä¸å­˜åœ¨é‡å¤æ¶ˆè´¹é—®é¢˜&lt;/p&gt;
&lt;p&gt;rediså¸¸è§çš„æ•°æ®ç±»å‹ï¼šStringã€Listã€Setã€ZSetã€Hash ä¸‰ç§ç‰¹æ®Šæ•°æ®ç±»å‹ï¼šHyperLogLogï¼ˆåŸºæ•°ç»Ÿè®¡ï¼‰ã€Bitmap ï¼ˆä½å›¾ï¼‰ã€Geospatial (åœ°ç†ä½ç½®)&lt;/p&gt;
&lt;h2 id=&#34;2025-10-21&#34;&gt;2025-10-21
&lt;/h2&gt;&lt;h3 id=&#34;redisæŒä¹…åŒ–æœºåˆ¶&#34;&gt;RedisæŒä¹…åŒ–æœºåˆ¶ï¼š
&lt;/h3&gt;&lt;p&gt;redisæ”¯æŒä¸‰ç§æŒä¹…åŒ–ï¼š
&lt;strong&gt;1.å¿«ç…§RDBï¼Œ2.åªè¿½åŠ æ–‡ä»¶AOFï¼Œ 3.RDBå’ŒAOFæ··åˆæŒä¹…åŒ–&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1.RDBæŒä¹…åŒ– åˆ›å»ºå¿«ç…§è·å–å­˜å‚¨åœ¨å†…å­˜ç§æ•°æ®åœ¨æŸä¸ªæ—¶é—´ç‚¹çš„å‰¯æœ¬ åˆ›å»ºå¿«ç…§ä¹‹å å¯ä»¥å¯¹å¿«ç…§å¤‡ä»½ å¯ä»¥åˆ›å»ºå‰¯æœ¬ï¼ˆRedisä¸»ä»ç»“æ„ï¼‰ RDBæ˜¯redisé»˜è®¤çš„æŒä¹…åŒ–æ–¹å¼&lt;/p&gt;
&lt;p&gt;RDBåˆ›å»ºå¿«ç…§ saveï¼šåŒæ­¥ä¿å­˜æ“ä½œ ä¼šé˜»å¡Redisä¸»çº¿ç¨‹ bgsave ç”¨å­è¿›ç¨‹æ‰§è¡Œ ä¸ä¼šé˜»å¡Redisä¸»çº¿ç¨‹&lt;/p&gt;
&lt;p&gt;2.AOFæŒä¹…åŒ– å®æ—¶æ€§æ›´å¥½ å¼€å¯AOFæŒä¹…åŒ–ä¹‹åæ¯æ¬¡æ‰§è¡Œæ”¹å˜redisæ•°æ®çš„å‘½ä»¤ rediså°±ä¼šå°†è¯¥å‘½ä»¤å†™å…¥AOFç¼“å†²åŒº ç„¶åå†å†™å…¥åˆ°AOFæ–‡ä»¶&lt;/p&gt;
&lt;p&gt;AOFæµç¨‹ï¼šæ‰€æœ‰çš„å†™å‘½ä»¤è¿½åŠ åˆ°AOFç¼“å†²åŒº
æ–‡ä»¶å†™å…¥ï¼šå°†AOFç¼“å†²åŒºçš„æ•°æ®å†™å…¥åˆ°AOFæ–‡ä»¶ä¸­
æ–‡ä»¶åŒæ­¥ï¼š AOFç¼“å†²åŒºæ ¹æ®å¯¹åº”çš„æŒä¹…åŒ–æ–¹å¼å‘ç¡¬ç›˜åšåŒæ­¥æ“ä½œ
æ–‡ä»¶é‡å†™ï¼šAOFè¶Šæ¥è¶Šå¤§ éœ€è¦å®šæœŸå¯¹AOFæ–‡ä»¶é‡å†™
é‡å¯åŠ è½½ï¼šredisé‡å¯æ—¶ å¯ä»¥åŠ è½½AOFæ–‡ä»¶è¿›è¡Œæ•°æ®æ¢å¤&lt;/p&gt;
&lt;p&gt;redisæœ‰ä¸‰ç§ä¸åŒçš„AOFæŒä¹…åŒ–æ–¹å¼ï¼ˆåŒºåˆ«åœ¨äºåŒæ­¥AOFæ–‡ä»¶çš„æ—¶æœºä¸åŒ å³åˆ·ç›˜æ—¶æœºä¸åŒï¼‰ï¼š
1.appendfsync always
2.appendfsync everyseconds
3.appendfsync no&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬çš„å…³ç³»å‹æ•°æ®åº“æ˜¯åœ¨æ‰§è¡Œå‘½ä»¤å‰è®°å½•æ—¥å¿— AOFæŒä¹…åŒ–æœºåˆ¶æ˜¯åœ¨æ‰§è¡Œå‘½ä»¤ä¹‹åè®°å½•æ—¥å¿—ï¼šä¼˜ç‚¹ï¼šå¯ä»¥é¿å…é¢å¤–å¼€é”€ ä¸ä¼šé˜»å¡å½“å‰æ‰§è¡Œçš„å‘½ä»¤ ç¼ºç‚¹ï¼šå¯èƒ½ä¼šé€ æˆä¿®æ”¹ä¸¢å¤± å¯èƒ½ä¼šé˜»å¡åç»­å…¶ä»–å‘½ä»¤&lt;/p&gt;
&lt;p&gt;AOFé‡å†™ï¼ˆå½“AOFæ–‡ä»¶è¶Šæ¥è¶Šå¤§ è¿›è¡ŒAOFé‡å†™å³å‹ç¼©AOFæ–‡ä»¶ï¼‰ Rediså°†AOFé‡å†™ç¨‹åºæ”¾åœ¨å­è¿›ç¨‹æ‰§è¡Œ é¿å…é€ æˆå¯¹redisæ­£å¸¸å¤„ç†å‘½ä»¤è¯·æ±‚é€ æˆå½±å“ã€‚&lt;/p&gt;
&lt;p&gt;Rediså•çº¿ç¨‹æ¨¡å¼å’Œå¤šçº¿ç¨‹æ¨¡å¼ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯¹äºè¯»å†™å‘½ä»¤æ¥è¯´ï¼ŒRedis ä¸€ç›´æ˜¯å•çº¿ç¨‹æ¨¡å‹ã€‚ä¸è¿‡ï¼Œåœ¨ Redis 4.0 ç‰ˆæœ¬ä¹‹åå¼•å…¥äº†å¤šçº¿ç¨‹æ¥æ‰§è¡Œä¸€äº›å¤§é”®å€¼å¯¹çš„å¼‚æ­¥åˆ é™¤æ“ä½œï¼ŒRedis 6.0 ç‰ˆæœ¬ä¹‹åå¼•å…¥äº†å¤šçº¿ç¨‹æ¥å¤„ç†ç½‘ç»œè¯·æ±‚ï¼ˆæé«˜ç½‘ç»œ IO è¯»å†™æ€§èƒ½ï¼‰&lt;/p&gt;&lt;/blockquote&gt;
&lt;h3 id=&#34;rediså†…å­˜ç®¡ç†&#34;&gt;Rediså†…å­˜ç®¡ç†
&lt;/h3&gt;&lt;p&gt;ä¿å­˜çš„ç¼“å­˜æ•°æ®ä¼šæœ‰ä¸€ä¸ªè¿‡æœŸæ—¶é—´ å¦‚æœä¸è®¾ç½®è¿‡æœŸæ—¶é—´ å¯èƒ½ä¼šå‡ºç°OOMå†…å­˜æº¢å‡ºé—®é¢˜
expire key 60 // åœ¨60såkeyè¿‡æœŸ
setex key 60 value // æ•°æ®åœ¨ 60s åè¿‡æœŸï¼ˆå¯¹äºå­—ç¬¦ä¸²ç±»å‹ï¼‰
ttl key //æŸ¥çœ‹æ•°æ®è¿˜æœ‰å¤šä¹…è¿‡æœŸ
è¿‡æœŸæ—¶é—´è¿˜å¯ä»¥ç”¨äºä¸šåŠ¡åœºæ™¯ä¸­å¦‚ç™»å½•tokenï¼ŒéªŒè¯ç &amp;hellip;&lt;/p&gt;
&lt;p&gt;redisé€šè¿‡&lt;strong&gt;è¿‡æœŸå­—å…¸&lt;/strong&gt;ä¿å­˜æ•°æ®è¿‡æœŸçš„æ—¶é—´ï¼Œè¿‡æœŸå­—å…¸çš„keyæŒ‡å‘redisçš„æŸä¸ªkey è¿‡æœŸå­—å…¸çš„å€¼æŒ‡å‘keyçš„è¿‡æœŸæ—¶é—´ åœ¨æŸ¥è¯¢keyçš„æ—¶å€™ redisä¼šé¦–å…ˆæ£€æŸ¥ä¸€ä¸‹keyæ˜¯å¦è¿‡æœŸ å³åœ¨è¿‡æœŸå­—å…¸ä¸­æŸ¥æ‰¾keyæ˜¯å¦å­˜åœ¨ å­˜åœ¨çš„è¯ è¿›è¡Œè¿‡æœŸåˆ é™¤&lt;/p&gt;
&lt;p&gt;redisè¿‡æœŸåˆ é™¤ç­–ç•¥åŒ…æ‹¬ï¼š
æƒ°æ€§åˆ é™¤ï¼ˆå–å‡ºkeyæ—¶è¿›è¡Œæ£€æŸ¥ï¼‰ï¼Œå®šæœŸåˆ é™¤ï¼ˆå‘¨æœŸæ€§çš„æŠ½æŸ¥ä¸€äº›keyï¼‰ï¼Œå»¶è¿Ÿé˜Ÿåˆ—ï¼ˆå°†è®¾ç½®è¿‡æœŸæ—¶é—´çš„keyæ”¾å…¥å»¶è¿Ÿé˜Ÿåˆ— åˆ°æœŸååˆ é™¤keyï¼‰ï¼Œå®šæ—¶åˆ é™¤ï¼ˆæ•°æ®è¿‡æœŸç«‹é©¬åˆ é™¤ï¼‰
Redis é‡‡ç”¨çš„æ˜¯&lt;strong&gt;å®šæœŸåˆ é™¤+æƒ°æ€§åˆ é™¤&lt;/strong&gt;ç»“åˆçš„ç­–ç•¥ ç”±äºå®šæœŸåˆ é™¤æ˜¯å‘¨æœŸæ€§çš„éšæœºæŠ½æŸ¥ä¸€äº›æ•°æ®ï¼ŒæŠ½æŸ¥çš„æ•°æ®æ•°é‡ç”±expire.cå†³å®š é»˜è®¤ä¸º20 å®šæœŸåˆ é™¤çš„é¢‘ç‡ç”±hzå†³å®š é»˜è®¤ä¸º10 è¡¨ç¤ºæ¯ç§’æ‰§è¡Œ10æ¬¡å°è¯•&lt;/p&gt;
&lt;p&gt;å¤§é‡çš„keyé›†ä¸­è¿‡æœŸï¼ˆç¼“å­˜é›ªå´©ï¼‰é€ æˆçš„åæœï¼šè¯·æ±‚å»¶è¿Ÿå¢åŠ  å†…å­˜å ç”¨è¿‡é«˜ï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œkeyçš„è¿‡æœŸæ—¶é—´å°½é‡éšæœº å¹¶å¼€å¯lazy freeæœºåˆ¶ï¼ˆå¼‚æ­¥åˆ é™¤è¿‡æœŸkey ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹çš„è¿è¡Œï¼‰&lt;/p&gt;
&lt;p&gt;Redis çš„å†…å­˜æ·˜æ±°ç­–ç•¥ï¼ˆ6ç§ï¼‰ï¼š
Redis çš„å†…å­˜æ·˜æ±°ç­–ç•¥åªæœ‰åœ¨è¿è¡Œå†…å­˜è¾¾åˆ°äº†é…ç½®çš„æœ€å¤§å†…å­˜é˜ˆå€¼æ—¶æ‰ä¼šè§¦å‘ï¼Œè¿™ä¸ªé˜ˆå€¼æ˜¯é€šè¿‡ redis.conf çš„ maxmemory å‚æ•°æ¥å®šä¹‰çš„&lt;/p&gt;
&lt;p&gt;æ˜å¤©è¯¥çœ‹è¿™ä¸ªäº† &lt;a class=&#34;link&#34; href=&#34;https://javaguide.cn/database/redis/redis-questions-02.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¸¸è§é¢è¯•æ€»ç»“ä¸‹&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Mysql å¸¸è§é¢è¯•é¢˜</title>
        <link>https://1parado.github.io/p/mysql-%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/</link>
        <pubDate>Wed, 15 Oct 2025 00:00:00 +0000</pubDate>
        
        <guid>https://1parado.github.io/p/mysql-%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98/</guid>
        <description>&lt;style&gt;
  body {
    background: url(&#39;/img/background.jpg&#39;) no-repeat center top;
    background-size: cover;
    background-attachment: fixed;
  }
&lt;/style&gt;
&lt;p&gt;å‚è€ƒé“¾æ¥ï¼šhttps://javaguide.cn/database/mysql/mysql-questions-01.html&lt;/p&gt;
&lt;h2 id=&#34;-æ•°æ®åº“åŸºç¡€&#34;&gt;ğŸ“š æ•°æ®åº“åŸºç¡€
&lt;/h2&gt;&lt;p&gt;ERå›¾ æä¾›&lt;strong&gt;å®ä½“&lt;/strong&gt;ï¼ˆæ–¹å—ï¼‰ &lt;strong&gt;å±æ€§&lt;/strong&gt;ï¼ˆæ¤­åœ†ï¼‰å’Œ&lt;strong&gt;è”ç³»&lt;/strong&gt;ï¼ˆè±å½¢ï¼‰çš„æ–¹æ³• å…³ç³»ï¼š1å¯¹1ï¼Œ1å¯¹å¤šï¼Œå¤šå¯¹å¤š&amp;hellip; åœ¨åˆ›å»ºé¡¹ç›®ä¹‹å‰åº”è¯¥å…ˆæ„å»ºå¥½æ•°æ®åº“ å¹¶ä¸”ç»˜åˆ¶ERå›¾æ¥ç†æ¸…æ•°æ®ä¹‹é—´çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;p&gt;æ•°æ®åº“èŒƒå¼ï¼š1NFï¼ˆå±æ€§ä¸å¯å†åˆ†ï¼‰,2NFï¼ˆåœ¨ 1NF çš„åŸºç¡€ä¹‹ä¸Šï¼Œæ¶ˆé™¤äº†éä¸»å±æ€§å¯¹äºç çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼‰,3NFï¼ˆåœ¨ 2NF çš„åŸºç¡€ä¹‹ä¸Šï¼Œæ¶ˆé™¤äº†éä¸»å±æ€§å¯¹äºç çš„ä¼ é€’å‡½æ•°ä¾èµ–ï¼‰ï¼ŒBCNFï¼ˆåœ¨3NFçš„åŸºç¡€ä¸Š å»é™¤å±æ€§è§ä¸å¿…è¦çš„å‡½æ•°ä¾èµ–ï¼‰&lt;/p&gt;
&lt;p&gt;ä¸»é”®ï¼šå”¯ä¸€æ ‡è¯†ä¸€ä¸ªå…ƒç»„ï¼ˆè¡Œï¼‰ä¸é‡å¤ä¸ä¸ºç©ºï¼Œä¸€ä¸ªè¡¨åªæœ‰ä¸€ä¸ªä¸»é”®&lt;/p&gt;
&lt;p&gt;å¤–é”®ï¼šä¸å…¶ä»–è¡¨å»ºç«‹è”ç³» å¤–é”®æ˜¯å¦å¤–ä¸€ä¸ªè¡¨çš„ä¸»é”® å¯ä»¥é‡å¤å¯ä»¥ä¸ºç©º ä¸€ä¸ªè¡¨å¯ä»¥æœ‰å¤šä¸ªå¤–é”®&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬ä¸æ¨èå¤–é”®ï¼š1.å¢åŠ äº†å¤æ‚æ€§ 2.å¢åŠ äº†ç»´æŠ¤å¤–é”®çš„å·¥ä½œé‡ 3.å¯¹æ•°æ®åº“åˆ†è¡¨ä¸å‹å¥½&lt;/p&gt;
&lt;p&gt;å¤–é”®çš„å¥½å¤„ï¼š1.ä¿è¯æ•°æ®ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ 2.çº§è”æ“ä½œç®€å•&lt;/p&gt;
&lt;p&gt;drop åˆ é™¤è¡¨ç»“æ„ turncate æ¸…ç©ºè¡¨æ•°æ® deleteä½¿ç”¨whereé™å®šåˆ é™¤æŸä¸€è¡Œæ•°æ®/æ¸…ç©ºè¡¨æ•°æ®&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œé€Ÿåº¦drop&amp;gt; turncate &amp;gt;delete&lt;/p&gt;
&lt;p&gt;æ•°æ®åº“è®¾è®¡ï¼šéœ€æ±‚åˆ†æ-ERå›¾-ERå›¾è½¬ä¸ºè¡¨-é€‰å–æ•°æ®åº“å’Œå­˜å‚¨ç»“æ„-ç¼–ç¨‹æµ‹è¯•è¯•å’Œè¿è¡Œ-è¿è¡Œå’Œç»´æŠ¤&lt;/p&gt;
&lt;p&gt;å…³ç³»å‹æ•°æ®åº“:å¦‚ mysql æ”¯æŒäº‹åŠ¡çš„å››å¤§å±æ€§ï¼šACIDå±æ€§ï¼ˆåŸå­æ€§ï¼Œä¸€è‡´æ€§ï¼Œéš”ç¦»æ€§ï¼ŒæŒä¹…æ€§ï¼‰&lt;/p&gt;
&lt;p&gt;éå…³ç³»å‹æ•°æ®åº“: å¦‚redis å¤©ç”Ÿæ”¯æŒåˆ†å¸ƒå¼ï¼Œæ•°æ®å†—ä½™å’Œæ•°æ®åˆ†ç‰‡ç­‰ç‰¹æ€§ï¼Œæ—¨åœ¨æä¾›å¯æ‰©å±•çš„é«˜å¯ç”¨é«˜æ€§èƒ½æ•°æ®å­˜å‚¨è§£å†³æ–¹æ¡ˆã€‚éå…³ç³»å‹æ•°æ®åº“æ¯”è¾ƒçµæ´»ï¼Œæ€§èƒ½é«˜ï¼Œå¯æ‰©å±•æ€§å¼º&lt;/p&gt;
&lt;p&gt;å­—ç¬¦é›†ï¼šGBK,ASCII,UTF8&amp;hellip;  MySQL8.0é»˜è®¤å­—ç¬¦é›†utf8mb4&lt;/p&gt;
&lt;p&gt;DDLæ•°æ®å®šä¹‰è¯­è¨€: &lt;strong&gt;å®šä¹‰æ•°æ®åº“å¯¹è±¡&lt;/strong&gt; CREATEã€ALTERã€DROP&lt;/p&gt;
&lt;p&gt;DMLæ•°æ®æ“çºµè¯­è¨€ : &lt;strong&gt;è®¿é—®æ•°æ®&lt;/strong&gt;ï¼Œå› æ­¤å…¶è¯­æ³•éƒ½æ˜¯ä»¥&lt;strong&gt;è¯»å†™æ•°æ®åº“&lt;/strong&gt;ä¸ºä¸» CRUD&lt;/p&gt;
&lt;p&gt;DCLæ•°æ®æ§åˆ¶è¯­è¨€ : &lt;strong&gt;æ§åˆ¶ç”¨æˆ·çš„è®¿é—®æƒé™&lt;/strong&gt; æˆäºˆæƒé™GRANTã€æ”¶å›æƒé™REVOKE&lt;/p&gt;
&lt;p&gt;TCLäº‹åŠ¡æ§åˆ¶è¯­è¨€ï¼š&lt;strong&gt;ç®¡ç†æ•°æ®åº“ä¸­çš„äº‹åŠ¡&lt;/strong&gt; , æäº¤äº‹åŠ¡commit å›æ»šäº‹åŠ¡ rollback&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç´¢å¼•â­&lt;/strong&gt;ã€é¢è¯•è¢«é—®åˆ°äº†ã€‘&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç´¢å¼•æ˜¯ä¸€ç§ç”¨äºå¿«é€ŸæŸ¥è¯¢å’Œæ£€ç´¢æ•°æ®çš„æ•°æ®ç»“æ„ï¼Œå…¶æœ¬è´¨å¯ä»¥çœ‹æˆæ˜¯ä¸€ç§æ’åºå¥½çš„æ•°æ®ç»“æ„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åˆ†ä¸ºï¼šå”¯ä¸€ç´¢å¼• ä¸»é”®ç´¢å¼• èšé›†ç´¢å¼• å“ˆå¸Œç´¢å¼•&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://javaguide.cn/database/mysql/mysql-index.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://javaguide.cn/database/mysql/mysql-index.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;sqlï¼ˆç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼‰ è¯­æ³•å¸¸è§é¢è¯•æ€»ç»“å¯ä»¥å»ç‰›å®¢ä¸Šçœ‹ ä¹Ÿå¯ä»¥åˆ·åŠ›æ‰£ä¸Šçš„sql é¢˜ è¿™é‡Œæˆ‘å°±ä¸ç€é‡çœ‹äº† ä¹‹ååˆ·sqlé¢˜çš„æ—¶å€™å†çœ‹&lt;/p&gt;
&lt;p&gt;å®¹æ˜“æ··æ·†çš„ç‚¹ï¼š&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;Decimal&lt;/th&gt;
          &lt;th&gt;å¯ä»¥å­˜ç²¾ç¡®çš„å°æ•°&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;Float / Double&lt;/td&gt;
          &lt;td&gt;åªèƒ½å­˜è¿‘ä¼¼çš„å°æ•°&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;DateTime&lt;/th&gt;
          &lt;th&gt;æ²¡æœ‰æ—¶åŒºä¿¡æ¯ å…«å­—èŠ‚å­˜å‚¨&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;TimeStamp&lt;/td&gt;
          &lt;td&gt;å’Œæ—¶åŒºæœ‰å…³ å››å­—èŠ‚å­˜å‚¨&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;Null&lt;/th&gt;
          &lt;th&gt;1.nullè¡¨ç¤ºç¼ºå¤±çš„å€¼ 2.ä»»ä½•å€¼ä¸nullæ¯”è¾ƒç»“æœéƒ½æ˜¯null 3.æœ‰äº›èšåˆå‡½æ•°å¿½ç•¥null&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;â€œ â€&lt;/td&gt;
          &lt;td&gt;1.ç©ºå­—ç¬¦ä¸² 2.â€œ â€ å¯ä»¥è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚ â€œ â€ = â€œ â€ç»“æœä¸ºtrue 3. èšåˆå‡½æ•°ä¸å¿½ç•¥&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;MySQLæ‰§è¡Œæµç¨‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¿æ¥å™¨ï¼ˆè¿›è¡Œèº«ä»½éªŒè¯ï¼‰&lt;/li&gt;
&lt;li&gt;åˆ†æå™¨ï¼ˆè¿›è¡Œè¯æ³•åˆ†æ å’Œ è¯­æ³•åˆ†æï¼‰&lt;/li&gt;
&lt;li&gt;ä¼˜åŒ–å™¨ï¼ˆæŒ‰ç…§MySQLè®¤ä¸ºæœ€ä¼˜çš„æ–¹æ¡ˆæ‰§è¡Œï¼‰&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œå™¨ï¼ˆæ‰§è¡Œè¯­å¥ ä»å­˜å‚¨å¼•æ“è¿”å›æ•°æ®ï¼‰&lt;/li&gt;
&lt;li&gt;**å­˜å‚¨å¼•æ“â­ï¼ˆInnoDBã€MyISAMã€Memory ç­‰å¤šç§å­˜å‚¨å¼•æ“ã€‚InnoDB æ˜¯ MySQL çš„é»˜è®¤å­˜å‚¨å¼•æ“ï¼Œåªæœ‰InnoDBæ”¯æŒäº‹åŠ¡ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å­˜å‚¨å¼•æ“é‡‡ç”¨&lt;strong&gt;æ’ä»¶å¼æ¶æ„&lt;/strong&gt; ï¼Œ&lt;strong&gt;åŸºäºè¡¨ç»“æ„è€Œä¸æ˜¯æ•°æ®åº“&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;MySQL æ—¥å¿—â­&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„æ—¥å¿—åˆ†ç±»:é”™è¯¯æ—¥å¿—ï¼ŒæŸ¥è¯¢æ—¥å¿—ï¼Œ&lt;strong&gt;æ…¢æŸ¥è¯¢æ—¥å¿—&lt;/strong&gt;ï¼ˆå¯ä»¥ç»“åˆ &lt;code&gt;EXPLAIN&lt;/code&gt; åˆ†ææŸ¥è¯¢æ‰§è¡Œè®¡åˆ’ï¼Œä¼˜åŒ–ç´¢å¼•æˆ– SQL ç»“æ„ï¼Œå¯ç”¨äºæ€§èƒ½ä¼˜åŒ–ï¼‰ï¼ŒäºŒè¿›åˆ¶æ—¥å¿—ï¼ˆä¸»ä»å¤åˆ¶ï¼‰ï¼Œå›æ»šæ—¥å¿—ï¼Œé‡åšæ—¥å¿—ï¼ˆä¿è¯äº‹åŠ¡çš„æŒä¹…æ€§ï¼‰&amp;hellip;&lt;/p&gt;
&lt;p&gt;MySQLäº‹åŠ¡ï¼šé€»è¾‘ä¸Šçš„ä¸€ç»„æ“ä½œè¦ä¹ˆéƒ½æ‰§è¡Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚äº‹åŠ¡åˆ†ä¸ºæ‰å¹³äº‹åŠ¡ï¼ˆæœ€ç®€å•çš„æƒ…å†µï¼‰ï¼ŒåµŒå¥—äº‹åŠ¡ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡&amp;hellip; äº‹åŠ¡çš„å››å¤§å±æ€§ACID. äº‹åŠ¡çš„ç›®çš„å°±æ˜¯ä¸ºäº†ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚&lt;/p&gt;
&lt;p&gt;å¹¶å‘äº‹åŠ¡å¸¦æ¥çš„é—®é¢˜ï¼šè„è¯»ï¼Œä¸å¯é‡å¤è¯»ï¼Œå¹»è¯»ï¼Œä¸¢å¤±ä¿®æ”¹ï¼ˆå››ç§é—®é¢˜åŸºæœ¬æ¦‚å¿µæ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿï¼‰&lt;/p&gt;
&lt;p&gt;å¹¶å‘äº‹åŠ¡çš„æ§åˆ¶æ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é”ï¼Œé€šè¿‡è¯»å†™é”æ¥æ˜¾å¼æ§åˆ¶å…±äº«èµ„æº åˆ†ä¸ºè¡¨çº§é”ï¼ˆå¯¹æ•´è¡¨åŠ çš„é”ï¼‰å’Œè¡Œçº§é”ï¼ˆå¯¹ç´¢å¼•å­—æ®µåŠ çš„é”ï¼‰ï¼ŒMyISAM ä»…ä»…æ”¯æŒè¡¨çº§é”ï¼ŒInnoDBä¸¤è€…å‡æ”¯æŒã€‚æ— è®ºæ˜¯è¡¨çº§é”å’Œè¡Œçº§é”éƒ½å­˜åœ¨å…±äº«é”Så’Œæ’ä»–é”Xã€‚æ„å‘é”å¯ä»¥æ¥å¿«é€Ÿåˆ¤æ–­æ˜¯å¦å¯ä»¥å¯¹æŸä¸ªè¡¨ä½¿ç”¨è¡¨é”ï¼Œä»è€Œæœ‰äº†æ„å‘å…±äº«é”ISå’Œæ„å‘æ’ä»–é”IX&lt;/li&gt;
&lt;li&gt;MVCCï¼ˆå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼‰å³å¯¹ä¸€ä»½æ•°æ®ä¼šå­˜å‚¨å¤šä¸ªç‰ˆæœ¬ï¼Œé€šè¿‡äº‹åŠ¡çš„å¯è§æ€§æ¥ä¿è¯äº‹åŠ¡èƒ½çœ‹åˆ°è‡ªå·±åº”è¯¥çœ‹åˆ°çš„ç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼ˆçº§åˆ«è¶Šé«˜ï¼Œæ•°æ®ä¸€è‡´æ€§è¶Šå¥½ï¼Œä½†å¹¶å‘æ€§èƒ½å¯èƒ½è¶Šä½ï¼‰ï¼š1.è¯»æœªæäº¤ 2.è¯»å·²æäº¤ 3.å¯é‡å¤è¯»ï¼ˆMySQLé»˜è®¤çš„éš”ç¦»çº§åˆ«ï¼‰ 4.å¯ä¸²è¡ŒåŒ–ã€‚ MySQL çš„éš”ç¦»çº§åˆ«åŸºäºé”å’Œ MVCC æœºåˆ¶å…±åŒå®ç°çš„&lt;/p&gt;
&lt;p&gt;å½“å‰è¯»å’Œå¿«ç…§è¯»&lt;/p&gt;
&lt;p&gt;å½“å‰è¯» = å½“å‰æœ€æ–°æ•°æ® + ä¼šåŠ é” â†’ â€œæœ€æ–°ã€å¯èƒ½è¢«é˜»å¡â€&lt;/p&gt;
&lt;p&gt;å¿«ç…§è¯» = äº‹åŠ¡å¿«ç…§ + ä¸åŠ é” â†’ â€œæ—§ç‰ˆæœ¬ã€ä¸ä¼šè¢«é˜»å¡â€&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;MySQLè°ƒä¼˜â­&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://javaguide.cn/database/mysql/mysql-high-performance-optimization-specification-recommendations.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://javaguide.cn/database/mysql/mysql-high-performance-optimization-specification-recommendations.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;MySQLå¯ä»¥å­˜æ–‡ä»¶ï¼ˆæ–‡ä»¶è½¬ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶å­˜å…¥MySQLï¼‰ï¼Œä½†æ˜¯å½±å“æ•°æ®åº“æ€§èƒ½å ç”¨å¤ªå¤šå­˜å‚¨ç©ºé—´ã€‚å¯ä»¥ç”¨äº‘æœåŠ¡å‚å•†æä¾›çš„å¯¹è±¡å­˜å‚¨å¦‚OSS&amp;hellip;ä¹Ÿå¯ä»¥ç”¨MinIOå¼€æºé¡¹ç›®å®ä¹ åˆ†å¸ƒå¼æ–‡ä»¶æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.51cto.com/article/716978.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.51cto.com/article/716978.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;MySQLæ€§èƒ½ä¼˜åŒ–ï¼šæ…¢æŸ¥è¯¢æ—¥å¿—æ‰¾ SQL â†’ Explain çœ‹æ‰§è¡Œè®¡åˆ’ï¼ˆåˆ†ææ€§èƒ½ï¼‰ â†’ ç´¢å¼•ä¼˜åŒ–/è¡¨ç»“æ„ä¼˜åŒ–&amp;hellip; â†’ é”å’Œ IO åˆ†æ â†’ SQL é‡å†™ â†’ æµ‹è¯•éªŒè¯&lt;/p&gt;
&lt;p&gt;è¯»å†™åˆ†ç¦»ï¼š&lt;strong&gt;è¯»å†™åˆ†ç¦»ä¸»è¦æ˜¯ä¸ºäº†å°†å¯¹æ•°æ®åº“çš„è¯»å†™æ“ä½œåˆ†æ•£åˆ°ä¸åŒçš„æ•°æ®åº“èŠ‚ç‚¹ä¸Šã€‚&lt;/strong&gt; è¿™æ ·çš„è¯ï¼Œå°±èƒ½å¤Ÿå°å¹…æå‡å†™æ€§èƒ½ï¼Œå¤§å¹…æå‡è¯»æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä½•å®ç°ï¼šä¸»æ•°æ®åº“å’Œä»æ•°æ®åº“æ•°æ®å®æ—¶åŒæ­¥ï¼ˆ&lt;strong&gt;ä¸»ä»å¤åˆ¶&lt;/strong&gt;ï¼‰ï¼Œå†™è¯·æ±‚äº¤ç»™ä¸»æ•°æ®åº“å¤„ç†ï¼Œè¯»æ•°æ®åº“äº¤ç»™ä»æ•°æ®åº“å¤„ç†ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸»ä»å¤åˆ¶ï¼šä¸»æ•°æ®åº“çš„æ•°æ®å˜åŒ–å†™å…¥äºŒè¿›åˆ¶æ—¥å¿—ï¼Œä»åº“é“¾æ¥ä¸»åº“ï¼Œä¸»åº“åˆ›å»ºI/Oçº¿ç¨‹å‘é€äºŒè¿›åˆ¶æ—¥å¿—ç»™ä»åº“ï¼Œä»åº“å°†äºŒè¿›åˆ¶æ—¥å¿—å†™å…¥ä¸­ç»§æ—¥å¿—ï¼ˆRelay logï¼‰ç„¶åä»åº“çš„sqlçº¿ç¨‹è¯»å–ä¸­ç»§æ—¥å¿—å®ç°ä¸»ä»æ•°æ®å®æ—¶åŒæ­¥ï¼ˆå¯èƒ½ä¼šå‘ç”Ÿä¸»ä»åŒæ­¥å»¶è¿Ÿï¼‰&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;ç¬¬ä¸€ç§å®ç°æ–¹å¼ï¼šä»£ç†æ–¹å¼&lt;/p&gt;
&lt;p&gt;åœ¨åº”ç”¨å’Œæ•°æ®ä¸­é—´åŠ äº†ä¸€ä¸ªä»£ç†å±‚ã€‚åº”ç”¨ç¨‹åºæ‰€æœ‰çš„æ•°æ®è¯·æ±‚éƒ½äº¤ç»™ä»£ç†å±‚å¤„ç†ï¼Œä»£ç†å±‚è´Ÿè´£åˆ†ç¦»è¯»å†™è¯·æ±‚ï¼Œå°†å®ƒä»¬è·¯ç”±åˆ°å¯¹åº”çš„æ•°æ®åº“ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒç§å®ç°æ–¹å¼ï¼šç»„ä»¶æ–¹å¼&lt;/p&gt;
&lt;p&gt;å¼•å…¥ç¬¬ä¸‰æ–¹ç»„ä»¶æ¥å¸®åŠ©æˆ‘ä»¬è¯»å†™è¯·æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;åˆ†åº“åˆ†è¡¨ï¼šå¦‚æœä¸€å¼ è¡¨çš„å­˜å‚¨æ•°æ®é‡å¤ªå¤§å°±è¦åˆ†åº“åˆ†è¡¨ã€‚åˆ†åº“åˆ†ä¸ºæ°´å¹³åˆ†åº“ï¼ˆæŒ‰ç…§æ•°æ®åˆ’åˆ†ï¼Œè¡Œåˆ’åˆ†ï¼‰å’Œå‚ç›´åˆ†åº“ï¼ˆæŒ‰ç…§ä¸šåŠ¡åˆ’åˆ†ï¼Œå±æ€§åˆ’åˆ†ï¼‰åˆ†è¡¨ä¸åˆ†åº“åŒç†ã€‚åˆ†åº“åˆ†è¡¨ä¹‹åéœ€è¦è§£å†³äº‹åŠ¡é—®é¢˜ï¼Œåˆ†å¸ƒå¼idé—®é¢˜ï¼Œjoinæ“ä½œé—®é¢˜&lt;/p&gt;
&lt;p&gt;å†·çƒ­æ•°æ®ï¼šçƒ­æ•°æ®æ˜¯æŒ‡&lt;strong&gt;ç»å¸¸è¢«è®¿é—®å’Œä¿®æ”¹ä¸”éœ€è¦å¿«é€Ÿè®¿é—®çš„æ•°æ®&lt;/strong&gt;ï¼Œå†·æ•°æ®æ˜¯æŒ‡&lt;strong&gt;ä¸ç»å¸¸è®¿é—®ï¼Œå¯¹å½“å‰é¡¹ç›®ä»·å€¼è¾ƒä½ï¼Œä½†éœ€è¦é•¿æœŸä¿å­˜çš„æ•°æ®&lt;/strong&gt;ã€‚å¯ä»¥æŒ‰ç…§æ—¶é—´å’Œè®¿é—®é¢‘ç‡åˆ’åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å»¶æ—¶åŒåˆ &lt;/strong&gt;â­ã€é¢è¯•è¢«é—®åˆ°äº†ã€‘ï¼ˆä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼‰ï¼šé¦–å…ˆåˆ é™¤redisä¸­çš„ç¼“å­˜æ•°æ®ï¼Œç„¶åæ›´æ–°æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè®©å½“å‰çº¿ç¨‹ä¼‘çœ ä¸€æ®µæ—¶é—´ï¼Œå”¤é†’ä¹‹åå†æ¬¡åˆ é™¤redisçš„ç¼“å­˜æ•°æ®ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;2025.10.19&lt;/p&gt;
&lt;h2 id=&#34;mysqlé«˜æ€§èƒ½ä¼˜åŒ–è§„èŒƒå»ºè®®æ€»ç»“äº†è§£å³å¯&#34;&gt;MySQLé«˜æ€§èƒ½ä¼˜åŒ–è§„èŒƒå»ºè®®æ€»ç»“ï¼ˆäº†è§£å³å¯ï¼‰
&lt;/h2&gt;&lt;p&gt;æ•°æ®åº“å‘½åè¦è§„èŒƒ æ‰€æœ‰è¡¨ä½¿ç”¨InnooDBå­˜å‚¨å¼•æ“ æ•°æ®åº“å’Œè¡¨çš„å­—ç¬¦é›†ç»Ÿä¸€ä½¿ç”¨utf8 å•ä¸ªè¡¨çš„æ•°æ®é‡å¤§å°å°½é‡åœ¨500ä¸‡ä¹‹å†…ï¼Œå†å¤§å¯ä»¥è€ƒè™‘åˆ†åº“åˆ†è¡¨ã€‚å¯¹äºæ—¥æœŸç±»å‹ç”¨Datatimeæˆ–timestamp ä¸è¦ç”¨å­—ç¬¦ä¸²å­˜å‚¨ã€‚å¯ä»¥é€šè¿‡æŸ¥è¯¢MySQLçš„æ…¢æŸ¥è¯¢æ—¥å¿—å‘ç°éœ€è¦è¿›è¡Œä¼˜åŒ–çš„sqlè¯­å¥ã€‚å¯¹äºè¶…100ä¸‡è¡Œçš„æ‰¹é‡æ“ä½œï¼ˆæ’å…¥ï¼Œæ›´æ–°ï¼Œåˆ é™¤ï¼‰è¦åˆ†æ‰¹å¤šæ¬¡è¿›è¡Œæ“ä½œï¼Œå› ä¸ºå¤§æ‰¹é‡æ“ä½œå¯èƒ½ä¼šé€ æˆä¸»ä»å»¶è¿Ÿã€‚&lt;/p&gt;
&lt;h2 id=&#34;é‡ç‚¹é‡æ–°çœ‹ä¸€ä¸‹&#34;&gt;é‡ç‚¹ã€é‡æ–°çœ‹ä¸€ä¸‹ã€‘
&lt;/h2&gt;&lt;p&gt;ç´¢å¼•ï¼šç´¢å¼•æ˜¯ä¸€ç§ç”¨äºå¿«é€ŸæŸ¥è¯¢å’Œæ£€ç´¢æ•°æ®çš„æ•°æ®ç»“æ„ï¼Œå…¶æœ¬è´¨å¯ä»¥çœ‹æˆæ˜¯ä¸€ç§æ’åºå¥½çš„æ•°æ®ç»“æ„ã€‚å¸¸è§çš„ç´¢å¼•ç»“æ„ï¼šB-Treeç´¢å¼•ã€B+æ ‘ç´¢å¼•ã€Hashç´¢å¼•ã€çº¢é»‘æ ‘ç´¢å¼•&amp;hellip; &lt;strong&gt;InnoDBå’ŒMyISAMéƒ½é€‰æ‹©B+æ ‘ä½œä¸ºç´¢å¼•ç»“æ„.&lt;/strong&gt;
ç´¢å¼•çš„ä¼˜ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š1.æŸ¥è¯¢é€Ÿåº¦å¿«å‡å°‘ç£ç›˜I/Oæ¬¡æ•° 2.ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼ˆå”¯ä¸€ç´¢å¼•ï¼‰3.å¯ä»¥åŠ å¿«æ’åºå’Œåˆ†ç»„&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¼ºç‚¹ï¼šåˆ›å»ºå’Œç»´æŠ¤è€—æ—¶ï¼Œå ç”¨å­˜å‚¨ç©ºé—´,å½“æ•°æ®é‡å¤ªå°çš„æ—¶å€™å…¨è¡¨æ‰«æé€Ÿåº¦ä¼šæ¯”ç´¢å¼•å¿«ã€‚&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;ç´¢å¼•ï¼š
1.æŒ‰ç…§æ•°æ®ç»“æ„åˆ†ç±»ï¼šB-Treeç´¢å¼•ã€B+æ ‘ç´¢å¼•ã€Hashç´¢å¼•ã€çº¢é»‘æ ‘ç´¢å¼•&amp;hellip;
2.æŒ‰ç…§åº•å±‚å­˜å‚¨æ–¹å¼åˆ†ç±»ï¼šèšé›†ç´¢å¼•å’Œéèšé›†ç´¢å¼•
3.åº”ç”¨ç»´åº¦åˆ†ç±»ï¼šä¸»é”®ç´¢å¼•ï¼Œå”¯ä¸€ç´¢å¼•ï¼Œæ™®é€šç´¢å¼•ï¼Œè¦†ç›–ç´¢å¼•&lt;/p&gt;
&lt;p&gt;Bæ•°å’ŒB+æ ‘çš„åŒºåˆ«ï¼š1. Bæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜äº†keyå’Œdataï¼ŒB+æ ‘çš„dataåªå­˜åœ¨å¶å­èŠ‚ç‚¹ã€‚éå¶å­èŠ‚ç‚¹ä»…å­˜åœ¨keyï¼Œå¯ä»¥è®©B+æ ‘æ›´ä½ï¼Œç£ç›˜I/Oæ“ä½œæ¬¡æ•°æ›´å°‘ã€‚2. B+æ ‘æ‰€æœ‰å¶å­æ„æˆæœ‰åºé“¾è¡¨æŒ‰ç…§ä¸»é”®æ’åºéå†å…¨éƒ¨è®°å½• æ”¯æŒèŒƒå›´æŸ¥æ‰¾ã€‚&lt;/p&gt;
&lt;p&gt;ä¸»é”®ç´¢å¼•ï¼šä¸€ä¸ªè¡¨åªæœ‰ä¸€ä¸ªä¸»é”®ç´¢å¼•ï¼Œä¸»é”®ç´¢å¼•ä¸èƒ½ä¸ºnullï¼Œä¸èƒ½é‡å¤ã€‚å¦‚æœè®¾è®¡è¡¨çš„æ—¶å€™æ²¡æœ‰ç¬¦åˆçš„å­—æ®µï¼ˆå”¯ä¸€ä¸”ä¸ä¸ºnullï¼‰ï¼ŒInnoDBä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªè‡ªå¢å­—æ®µä½œä¸ºä¸»é”®ç´¢å¼•ã€‚&lt;/p&gt;
&lt;p&gt;EXPLAIN åˆ†ææ‰§è¡Œè®¡åˆ’ é€šè¿‡æŸ¥è¯¢ä¼˜åŒ–å™¨å¯¹è¯­å¥è¿›è¡Œåˆ†æ æ‰¾å‡ºæœ€ä¼˜çš„æŸ¥è¯¢æ–¹æ³• å¹¶æ˜¾ç¤ºå¯¹åº”çš„ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;MySQLä¸‰å¤§æ—¥å¿—ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;äºŒè¿›åˆ¶æ—¥å¿—ï¼ˆBinary logï¼‰ï¼šè®°å½•äº†æ‰€æœ‰å¯¹æ•°æ®åº“çš„DDLå’ŒDMLæ“ä½œã€‚å¯ä»¥ç”¨äºæ•°æ®å¤‡ä»½ï¼Œä¸»ä»å¤åˆ¶&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        
    </channel>
</rss>
